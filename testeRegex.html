<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Teste</title>
</head>
<body>
    
    <fieldset style="margin-top: 10px; margin-left: 200px;margin-right: 200px">
        <legend><h2>Formatar Data</h2></legend>
    <form>
        <div class="form-group">
            <label for="inpt-data">Data de nascimento:</label>
            <input type="text" name="inpt-data" id="inpt-data" placeholder="dd-mm-yyyy" style="width: 200px; height: 30px" pattern="\d{2}-\d{2}-\d{4}" required> 
            <ul for="inpt-data" id="list" style="display:none"></ul>
        </div>

         <div class="form-group">
            <button  style="height: 30px" id="btn">Formatar</button>       
         </div>
    </form>


<script>

    var botao = document.querySelector("#btn");
    var data = document.querySelector("#inpt-data");
    var lista = document.querySelector("#list");


    console.log(botao);
    botao.addEventListener("click", function(event){
        event.preventDefault();

        var alvo = data.value;
        var exp = new RegExp("-","g");


        var teste = new RegExp("\\d{2}-\\d{2}-\|d{4}","gi");

        if(!teste.test(alvo)){
            lista.innerHTML = "";
            lista.style = "";
            var erro = document.createElement("li")
            erro.textContent = "Erro no formato da entrada. Ex: 01-01-2001"; 
            lista.appendChild(erro);
        }
    
        var alvoFormatado = alvo.replace(exp, "/");

        data.value = alvoFormatado;
    });
    </script>
</html>